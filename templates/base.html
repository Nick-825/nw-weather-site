<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#0f172a">
  <title>{{ title or "Северо-Запад: погода" }}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      color-scheme: dark;
      --safe-inset: env(safe-area-inset-bottom, 0px);
    }
    html { scroll-behavior: smooth; }
    @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-4px)} }
    @keyframes wiggle { 0%,100%{transform:rotate(0)} 50%{transform:rotate(-6deg)} }
    @keyframes pulse-soft { 0%,100%{opacity:.9} 50%{opacity:1} }
    .float { animation: float 3s ease-in-out infinite; }
    .wiggle { animation: wiggle 2.5s ease-in-out infinite; transform-origin:center; display:inline-block; }
    .pulse { animation: pulse-soft 2.2s ease-in-out infinite; }
    .mini-badge { font-size: 11px; line-height: 1.1; word-break: break-word; }
  </style>
</head>
<body class="bg-slate-950 text-slate-100 min-h-screen">
  <header class="sticky top-0 z-40 bg-slate-950/95 backdrop-blur supports-[backdrop-filter]:bg-slate-950/80 border-b border-white/5">
    <div class="mx-auto flex w-full max-w-6xl items-center justify-between gap-4 px-4 py-3 sm:px-6">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 bg-yellow-400/90 rounded-full grid place-items-center text-slate-900 font-bold wiggle">☀️</div>
        <h1 class="font-bold text-lg sm:text-xl leading-tight">Северо-Запад: погода • новости • курсы</h1>
      </div>
      <button id="mobile-menu-button" class="inline-flex items-center justify-center rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm font-medium text-white transition hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-white/40 md:hidden" aria-expanded="false" aria-controls="mobile-menu">
        <span class="sr-only">Открыть меню</span>
        <svg id="icon-menu" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
        <svg id="icon-close" xmlns="http://www.w3.org/2000/svg" class="hidden h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.8">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
      <nav class="hidden md:flex gap-6 text-sm text-slate-200/80">
        <a href="/" class="transition hover:text-white">Главная</a>
        <a href="/rates" class="transition hover:text-white">Курсы</a>
        <a href="/news" class="transition hover:text-white">Новости</a>
        <a href="/weather" class="transition hover:text-white">Поиск</a>
        <a href="/weather/7days" class="transition hover:text-white">7&nbsp;дней</a>
      </nav>
    </div>
    <nav id="mobile-menu" class="hidden flex-col gap-2 border-t border-white/10 px-4 pb-4 text-sm text-slate-100 md:hidden">
      <a href="/" class="rounded-xl bg-white/5 px-4 py-2 transition hover:bg-white/10">Главная</a>
      <a href="/rates" class="rounded-xl bg-white/5 px-4 py-2 transition hover:bg-white/10">Курсы</a>
      <a href="/news" class="rounded-xl bg-white/5 px-4 py-2 transition hover:bg-white/10">Новости</a>
      <a href="/weather" class="rounded-xl bg-white/5 px-4 py-2 transition hover:bg-white/10">Поиск</a>
      <a href="/weather/7days" class="rounded-xl bg-white/5 px-4 py-2 transition hover:bg-white/10">7&nbsp;дней</a>
    </nav>
  </header>

  <main class="mx-auto flex w-full max-w-6xl flex-col gap-10 px-4 py-6 sm:px-6 sm:py-10">
    {% block content %}{% endblock %}
  </main>

  <footer class="px-4 pb-[calc(1.5rem+var(--safe-inset))] pt-6 text-center text-sm text-slate-500">
    © 2025 Погода от
    <a href="https://t.me/weatherinversesSPb"
       target="_blank"
       rel="noopener"
       class="text-cyan-400 hover:text-cyan-300 font-semibold underline underline-offset-4">
       Васька&nbsp;Невский
    </a>
  </footer>
  <script>
    (function () {
      const button = document.getElementById('mobile-menu-button');
      const menu = document.getElementById('mobile-menu');
      const iconMenu = document.getElementById('icon-menu');
      const iconClose = document.getElementById('icon-close');

      if (!button || !menu) {
        return;
      }

      button.addEventListener('click', function () {
        const isHidden = menu.classList.toggle('hidden');
        button.setAttribute('aria-expanded', String(!isHidden));
        if (iconMenu && iconClose) {
          iconMenu.classList.toggle('hidden');
          iconClose.classList.toggle('hidden');
        }
      });

      menu.querySelectorAll('a').forEach(function (link) {
        link.addEventListener('click', function () {
          if (menu.classList.contains('hidden')) {
            return;
          }
          menu.classList.add('hidden');
          button.setAttribute('aria-expanded', 'false');
          if (iconMenu && iconClose && iconMenu.classList.contains('hidden')) {
            iconMenu.classList.remove('hidden');
            iconClose.classList.add('hidden');
          }
        });
      });
    })();
  </script>
</body>
</html>

