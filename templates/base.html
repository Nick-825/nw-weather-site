<!doctype html>
<html lang="ru" class="h-full">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>{% block title %}–ü–æ–≥–æ–¥–∞ ‚Ä¢ –ù–æ–≤–æ—Å—Ç–∏ ‚Ä¢ –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç{% endblock %}</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script>
    // Tailwind CDN (–µ—Å–ª–∏ —É —Ç–µ–±—è —É–∂–µ –ø–æ–¥–∫–ª—é—á—ë–Ω ‚Äî –æ—Å—Ç–∞–≤—å —Å–≤–æ–π)
  </script>
  <style>
    :root { color-scheme: dark; }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:#0b1220;color:#e6edf6}
    .container{max-width:1100px;margin:0 auto;padding:24px}
    .glass{background:rgba(15,23,42,.6);border:1px solid rgba(255,255,255,.08);border-radius:20px}
    .btn{display:inline-flex;align-items:center;gap:8px;border-radius:12px;padding:10px 14px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);color:#fff;text-decoration:none}
    .btn:hover{background:rgba(255,255,255,.1)}
    .nav a{padding:8px 12px;border-radius:12px;text-decoration:none;color:#e6edf6;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08)}
    .nav a:hover{background:rgba(255,255,255,.1)}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
  {% block head %}{% endblock %}
</head>
<body class="h-full">
  <!-- Header -->
  <header style="position:sticky;top:0;z-index:40;background:rgba(11,18,32,.8);backdrop-filter:saturate(120%) blur(8px);border-bottom:1px solid rgba(255,255,255,.08)">
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;gap:12px;">
      <a href="/" class="btn" style="padding:10px 12px">
        <span style="font-size:18px">üå§Ô∏è</span>
        <strong>–ü–æ–≥–æ–¥–∞ ‚Ä¢ –ù–æ–≤–æ—Å—Ç–∏ ‚Ä¢ –ö—É—Ä—Å—ã</strong>
      </a>

      <!-- –î–µ—Å–∫—Ç–æ–ø-–Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
      <nav class="nav" style="display:none;gap:10px" id="nav-desktop">
        <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="/rates">–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç</a>
        <a href="/news">–ù–æ–≤–æ—Å—Ç–∏</a>
        <a href="/weather">–ü–æ–∏—Å–∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è</a>
        <a href="/weather/7days">–ü–æ–≥–æ–¥–∞ –Ω–∞ 7 –¥–Ω–µ–π</a>
      </nav>

      <!-- –ö–Ω–æ–ø–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é -->
      <button id="mobile-menu-button" class="btn" aria-expanded="false" aria-controls="mobile-menu" style="display:inline-flex">
        <span class="sr-only">–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é</span>
        <svg id="icon-menu" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
        <svg id="icon-close" class="sr-only" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
    </div>
  </header>

  <!-- –ú–æ–±–∏–ª—å–Ω—ã–π –¥—Ä–æ—É—ç—Ä -->
  <div id="mobile-menu" class="sr-only">
    <div id="mobile-backdrop" style="position:fixed;inset:0;background:rgba(0,0,0,.5)"></div>
    <nav style="position:fixed;right:0;top:0;height:100vh;width:min(85%,340px);background:#0b1220;border-left:1px solid rgba(255,255,255,.12);padding:16px;display:flex;flex-direction:column;gap:8px">
      <a class="btn" href="/">–ì–ª–∞–≤–Ω–∞—è</a>
      <a class="btn" href="/rates">–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç</a>
      <a class="btn" href="/news">–ù–æ–≤–æ—Å—Ç–∏</a>
      <a class="btn" href="/weather">–ü–æ–∏—Å–∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è</a>
      <a class="btn" href="/weather/7days">–ü–æ–≥–æ–¥–∞ –Ω–∞ 7 –¥–Ω–µ–π</a>
    </nav>
  </div>

  <main class="container" style="padding-top:20px;padding-bottom:40px;">
    {% block content %}{% endblock %}
  </main>

  <footer class="container" style="padding-bottom:60px;color:#9fb0c3">
    ¬© 2025 <a href="https://t.me/weatherinversesSPb" style="color:#9ad2ff;text-decoration:none">–í–∞—Å—å–∫–∞ –ù–µ–≤—Å–∫–∏–π</a>
  </footer>

  <script>
    // –ü—Ä–æ—Å—Ç–µ–π—à–µ–µ —É—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ—Å–∫—Ç–æ–ø-–º–µ–Ω—é
    (function(){
      const mql = window.matchMedia('(min-width: 900px)');
      const navDesktop = document.getElementById('nav-desktop');
      const toggleVis = () => navDesktop.style.display = mql.matches ? 'flex' : 'none';
      toggleVis(); mql.addEventListener('change', toggleVis);
    })();

    // –î—Ä–æ—É—ç—Ä
    (function(){
      const btn = document.getElementById('mobile-menu-button');
      const menu = document.getElementById('mobile-menu');
      const backdrop = document.getElementById('mobile-backdrop');
      const iMenu = document.getElementById('icon-menu');
      const iClose = document.getElementById('icon-close');

      const show = () => {
        menu.classList.remove('sr-only');
        iMenu.classList.add('sr-only'); iClose.classList.remove('sr-only');
        btn.setAttribute('aria-expanded','true');
        document.body.style.overflow='hidden';
      };
      const hide = () => {
        menu.classList.add('sr-only');
        iMenu.classList.remove('sr-only'); iClose.classList.add('sr-only');
        btn.setAttribute('aria-expanded','false');
        document.body.style.overflow='';
      };
      btn.addEventListener('click', ()=> menu.classList.contains('sr-only') ? show() : hide());
      backdrop.addEventListener('click', hide);
      menu.querySelectorAll('a').forEach(a=> a.addEventListener('click', hide));
    })();
  </script>

  {% block scripts %}{% endblock %}
</body>
</html>
