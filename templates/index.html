{% extends "base.html" %}
{% block content %}

<h2 class="text-2xl font-bold mb-6">Погода (СЗФО)</h2>
<div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-6">
  {% for row in weather %}
  <div class="bg-slate-900/70 rounded-2xl ring-1 ring-white/10 p-5 shadow-lg">
    <div class="flex justify-between items-center">
      <div class="font-semibold">{{ row.city }}</div>
      <div class="text-2xl float">{{ row.icon or "☁️" }}</div>
    </div>
    <div class="text-3xl font-bold mt-2">{{ row.temp }}°C</div>
    <div class="text-sm text-slate-400">Ощущается: {{ row.feels }}°C</div>
    <div class="grid grid-cols-3 gap-3 text-sm mt-4">
      <div class="bg-slate-800/60 rounded-xl p-3">
        <div class="mini-badge text-slate-400">Осадки</div>
        <div class="font-medium">{{ row.precip }} мм</div>
      </div>
      <div class="bg-slate-800/60 rounded-xl p-3">
        <div class="mini-badge text-slate-400">Ветер</div>
        <div class="font-medium">{{ row.wind }} м/с</div>
      </div>
      <div class="bg-slate-800/60 rounded-xl p-3">
        <div class="mini-badge text-slate-400">Направление</div>
        <div class="font-medium">{{ row.wdir }}°</div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<h2 class="text-2xl font-bold mt-10 mb-4">Курсы ЦБ РФ</h2>
<div class="bg-slate-900/70 rounded-2xl ring-1 ring-white/10 p-5 max-w-md">
  {% for code, r in rates.items() %}
  <div class="flex justify-between py-1">
    <div class="text-slate-300">{{ code }} • {{ r.name }}</div>
    <div class="font-semibold">{{ '%.4f'|format(r.value) }}</div>
  </div>
  {% endfor %}
</div>

<h2 class="text-2xl font-bold mt-10 mb-4">Новости</h2>
<div class="space-y-3">
  {% for n in headlines %}
  <a href="{{ n.link }}" target="_blank" rel="noopener"
     class="block rounded-2xl bg-slate-900/70 ring-1 ring-white/5 p-4 hover:bg-slate-900 transition">
    <div class="text-xs text-slate-400">{{ n.source }} • {{ n.published }}</div>
    <div class="font-medium">{{ n.title }}</div>
  </a>
  {% endfor %}
</div>

{% endblock %}
